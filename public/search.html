<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <script type="text/javascript" src="./data/search_data.json"></script>
    <script>
      fetch("./data/search_data.json")
        .then((response) => response.json())
        .then((data) => {
          buildTable(data);
        });

      function buildTable(data) {
        var table = document.getElementById("table-data");

        for (var i = 0; i < data.length; i++) {
          var row = `<tr>
							<td>${data[i].store}</td>
							<td>${data[i].name}</td>
							<td><a href="${data[i].url}">Link</td>
              <td>${data[i].price}</td>
					  </tr>`;
          table.innerHTML += row;
        }
      }
    </script>
    <title>Results</title>
  </head>
  <body>
    <div class="head">
      <h1>GPU Stock Checker</h1>

      <p>
        This app provides up to date pricing on the most recent GeForce and
        Radeon Graphics cards. Select a GPU and how overpriced you would like it
        to be! We will try to find one within the budget you set.
      </p>
      <p class="note">
        Please Note: GPUs are hard to find right now. You may need to pay more
        than you want if you want a recent model.
      </p>
    </div>

    <div class="search-for">
      <button onclick="window.location.href='/';">Return Home</button>
    </div>

    <div class="table-div">
      <table class="results-table">
        <thead>
          <tr>
            <th>Store</th>
            <th>Graphics Card</th>
            <th>URL</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody id="table-data"></tbody>
      </table>
    </div>
  </body>
</html>
